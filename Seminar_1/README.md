Контейнеризация.
 Урок 1.  Механизмы пространства имен
*Задание: необходимо продемонстрировать изоляцию одного и того же приложения (как решено на семинаре - командного интерпретатора) в различных пространствах имен.*
1. Задача - сменить корневой каталог.
Необходимые шаги:
* Создаем новую директорию 

testfolder 
mkdir testfolder
* Создаем в новой директории папку bin

mkdir bin
* Помещаем туда исполняемый файл командного интерпретатора
(с правами суперпользователя вводим команду 

сp /bin/bash testfolder/bin
* Для запуска исполняемого файла необходимо скопировать необходимый набор библиотек. 

_Для этого создаем папки_

mkdir testfolder/lib

mkdir testfolder/lib64

_Вводим команду_

ldd /bin/bash 

_и копируем оттуда все файлы, которые там имеются_
* Теперь меняем корневой каталог командой 

chroot testfolder /bin/bash

![Скриншот](/images/image_1.jpg)

2. Задача - сетевая изоляция.

* Создаем новую network namespace и даем ей имя

![Скриншот](/images/image_2.jpg)

ip netns add testns 
* Подключаем процесс bash

ip netns exec testns bash

* Смотрим на изменения в сети

ip a

![Скриншот](/images/image_3.jpg)


* Вводим команду

unshare --net --pid --fork --mount-proc /bin/bash

    unshare - разграничиваем пространство

    net - разграничиваем сетевое пространство

    pid - создаем дерево

    fork - создание процесса

    mount-proc - монтирование процесса

* Смотрим, как происходят процессы

ps aux

![Скриншот](/images/image_4.jpg)


* Для наглядности можем создать еще директорию и посмотреть снапшот текущих процессов.

mkdir test

ps aux

![Скриншот](/images/image_5.jpg)
